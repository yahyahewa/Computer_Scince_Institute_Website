--DROP TABLE IF EXISTS usr;
--DROP TABLE IF EXISTS std;
--DROP TABLE IF EXISTS email;
--DROP TABLE IF EXISTS phone;
--DROP TABLE IF EXISTS tch;
--DROP TABLE IF EXISTS sub;
--DROP TABLE IF EXISTS deg;
--DROP TABLE IF EXISTS fil;
--DROP TABLE IF EXISTS attend;
--DROP TABLE IF EXISTS t_sub;
--CREATE TABLE usr (
--username VARCHAR (15) PRIMARY KEY NOT NULL,
--pass VARCHAR (10) NOT NULL,
--dep VARCHAR (10) NOT NULL);
CREATE TABLE std (
s_id VARCHAR (15) NOT NULL unique,
f_name VARCHAR (10) NOT NULL,
s_name VARCHAR (10) NOT NULL,
th_name VARCHAR (10) NOT NULL,
b_day DATETIME NOT NULL,
gender VARCHAR (6) NOT NULL,
salwrgrtn DATETIME NOT NULL,
sstm VARCHAR (15) NOT NULL,
sim INT NOT NULL,
deger INT NOT NULL,
img VARCHAR(max) NOT NULL,
FOREIGN KEY(s_id) REFERENCES usr(username));
CREATE TABLE email (
id VARCHAR (15) NOT NULL,
email VARCHAR NOT NULL,
FOREIGN KEY(id) REFERENCES usr(username));
CREATE TABLE phone (
id VARCHAR (15) NOT NULL,
ph VARCHAR NOT NULL,
FOREIGN KEY(id) REFERENCES usr(username));
CREATE TABLE tch (
id VARCHAR (15) NOT NULL unique,
f_name VARCHAR (15) NOT NULL,
s_name VARCHAR (15) NOT NULL,
th_name VARCHAR (10) NOT NULL,
b_day DATETIME NOT NULL,
FOREIGN KEY(id) REFERENCES usr(username));
CREATE TABLE sub (
sub_name VARCHAR (20) PRIMARY KEY NOT NULL,
sim INT NOT NULL,
dep VARCHAR (15) NOT NULL);
CREATE TABLE deg (
id VARCHAR (15) NOT NULL,
sub VARCHAR (20) NOT NULL,
sim INT DEFAULT 0 NOT NULL,
xaib INT DEFAULT 0 NOT NULL,
quez INT DEFAULT 0 NOT NULL,
assim INT DEFAULT 0 NOT NULL,
rep INT DEFAULT 0 NOT NULL,
med INT DEFAULT 0 NOT NULL,
t_exam INT DEFAULT 0 NOT NULL,
p_exam INT DEFAULT 0 NOT NULL,
FOREIGN KEY(id) REFERENCES usr(username),
FOREIGN KEY(sub) REFERENCES sub(sub_name));
CREATE TABLE fil (
send VARCHAR (15) NOT NULL,
to_ VARCHAR (15) NOT NULL,
fil varchar(max) NOT NULL,
note VARCHAR DEFAULT 'note........' NOT NULL,
tim DATETIME NOT NULL,
FOREIGN KEY(send) REFERENCES usr(username));
CREATE TABLE attend (
s_id VARCHAR (15) NOT NULL,
sub VARCHAR (15) NOT NULL,
tim DATETIME NOT NULL,
FOREIGN KEY(s_id) REFERENCES usr(username));
CREATE TABLE t_sub (
t_id VARCHAR (15) NOT NULL,
sub_id VARCHAR (20) NOT NULL,
FOREIGN KEY(t_id) REFERENCES usr(username),
FOREIGN KEY(sub_id) REFERENCES sub(sub_name));